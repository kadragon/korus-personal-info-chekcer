# 작업 목록

- [x] **리팩토링: 전체 코드 베이스 개선**
  - **목표**: 코드의 재사용성, 유지보수성, 확장성을 높이기 위해 코드 베이스 전반에 걸친 리팩토링을 수행합니다. - **완료**
  - **세부 작업 목록**:
    1. **중복 코드 통합 및 재사용성 증대** - **완료**
       - [x] `login_checker.py`와 `download_reason_checker.py`에 중복된 **업무 시간 외/휴일 검사 로직**을 `utils.py`로 통합.
       - [x] 각 `checker` 파일에서 반복되는 `pd.to_datetime` 변환 로직을 `utils.py`의 파일 로드 시점으로 이동.
       - [x] `personal_file_checker.py`의 '교번'/'신분번호' 컬럼 처리 로직을 `utils.py`에서 컬럼명 표준화로 단순화.
    2. **설정값 중앙 관리** - **완료**
       - [x] 각 `checker` 파일에 하드코딩된 임계값 및 상수들을 `config.py` 또는 별도 설정 파일로 분리.
    3. **코드 견고성 및 유연성 향상** - **완료**
       - [x] `download_reason_checker.py`, `login_checker.py`의 취약한 **컬럼 인덱스 기반 검증** 로직을 **컬럼 이름 기반**으로 변경.
       - [x] `main.py`가 `checkers` 폴더 내의 검사기 모듈을 동적으로 찾아 실행하도록 구조 개선.
    4. **단일 책임 원칙 적용** - **완료**
       - [x] `utils.py`의 `find_and_prepare_excel_file` 함수를 '파일 검색', '데이터 병합', '결과 저장' 등 더 작은 함수들로 분리.

---

## 완료된 작업

- [x] **리팩토링: `checker` 모듈의 반복 로직 개선**

  - **목표**: `src/checkers` 내의 `*_checker.py` 파일들에서 반복되는 "검사 -> 결과 확인 -> 저장 -> 메시지 출력" 로직을 공통 함수로 추출하여 코드 중복을 제거하고 가독성을 높입니다.
  - **세부 계획**:
    1. `utils.py`에 검사 실행과 파일 저장을 담당하는 공통 함수를 생성합니다. (예: `run_and_save_check`) - **완료**
    2. `download_reason_checker.py`의 `sayu_checker` 함수를 리팩토링하여 새로운 공통 함수를 사용하도록 수정합니다. - **완료**
    3. `login_checker.py`의 `login_checker` 함수를 리팩토링하여 새로운 공통 함수를 사용하도록 수정합니다. - **완료**
    4. `personal_file_checker.py`의 `personal_file_checker` 함수를 리팩토링합니다. 이 파일은 다른 검사기들과 결과 저장 방식이 일부 다르므로, 이를 처리할 수 있도록 공통 함수를 설계하거나 별도의 처리를 추가합니다. - **완료** (부분 리팩토링 적용)
  - **예상 결과**: 각 `checker` 파일의 코드가 더 간결해지고, 새로운 검사를 추가하기 쉬워지며, 유지보수성이 향상됩니다. - **달성**

- [x] **버그 수정: Rich 라이브러리 markup 파라미터 오류**
  - **목표**: `src/display.py`의 `print_summary` 함수에서 `Text` 객체 생성 시 `markup=True` 파라미터가 지원되지 않아 발생하는 `TypeError`를 수정합니다.
  - **세부 계획**:
    1. Rich 라이브러리가 프로젝트 의존성에 추가되지 않아 발생한 오류임을 확인합니다. - **완료**
    2. `pyproject.toml`에 Rich 라이브러리를 추가합니다. - **완료**
    3. `uv add rich` 명령으로 라이브러리를 설치합니다. - **완료**
  - **예상 결과**: `Text(markup=True)`가 정상 작동하여 요약 출력이 성공합니다. - **달성**
